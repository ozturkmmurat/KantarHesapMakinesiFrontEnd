<form [formGroup]="_accessoryPackageDetailForm">
  <div class="modal-body">
    <div class="mb-3">
      <div class="form-group">
        <div class="col-lg-12">
          <div class="modal-body">
            <div class="mb-3">
              <div class="form-group">

                <div class="row" [formGroup]="_addAccessoryPackageDetailForm">
                  <div _ngcontent-bya-c115="" class="col-lg-12">
                    <label for="inputState">Aksesuar</label>
                    <select id="accessoryId" name="accessoryId" class="form-control" formControlName="accessoryId">
                      <option selected disabled value="">Aksesuar Seçiniz</option>
                      <option *ngFor="let accessory of accessoryList" [ngValue]="accessory.id" selected>
                        {{ accessory.accessoryName }}
                      </option>
                    </select>
                  </div>

                  <div _ngcontent-bya-c115="" class="col-lg-3">
                    <div _ngcontent-bya-c115="" class="form-group">
                      <label _ngcontent-bya-c115="" for="input-username" class="form-control-label">Aksesuar
                        Adeti</label>
                      <input _ngcontent-bya-c115="" type="number" id="input-username" id="accessoryPcs"
                        formControlName="accessoryPcs" value="1" class="form-control form-control-alternative" />
                    </div>
                  </div>
                  <div class="col-lg-3 mt-4">
                    <label _ngcontent-bya-c115="" for="input-username" class="form-control-label"></label>
                    <button type="button" class="btn btn-outline-dark mt-1" (click)="addAccessoryPackageDetail()">
                      Pakete Aksesuar Ekle
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div _ngcontent-bya-c115="" class="col-lg-12">
          <label for="inputState">Paket Aksesuarları</label>
          <form _ngcontent-bti-c110=""
          class="navbar-search navbar-search-dark form-inline mr-3 d-none d-md-flex ml-lg-auto">
          <div _ngcontent-bti-c110="" class="form-group mb-2" ng-reflect-ng-class="[object Object]">
            <div style="border-color:rgb(181 171 171 / 60%);" _ngcontent-bti-c110=""
              class="input-group input-group-alternative">
              <div _ngcontent-bti-c110="" class="input-group-prepend"><span _ngcontent-bti-c110=""
                  class="input-group-text"><i style="color:black;" _ngcontent-bti-c110=""
                    class="fas fa-search"></i></span></div>
              <input style="color:black;" _ngcontent-bti-c110="" placeholder="Search" type="text" class="form-control"
                name="filterText" [(ngModel)]="filterText">
            </div>
          </div>
        </form>


        <div >
          <ngx-datatable  formArrayName="accessoryPackageDetailArray"  style="width:100%;" #table class="material whitespace-nowrap single-selection pt-2"
          [rows]="accessoryPackageDetailFormArray.controls | filter:filterText"  [scrollbarH]="true" [columnMode]="'force'" [headerHeight]="50"
          [limit]="5" [footerHeight]="50" [rowHeight]="60">
          <ng-template let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
            <ngx-datatable-column name="Aksesuar Euro Fiyatı"[prop]="row.get('accessoryEuroPrice').value">
            </ngx-datatable-column>
            <ng-container [formGroupName]="rowIndex">
              <ngx-datatable-column name="Aksesuar Euro Fiyatı" prop="row.accessoryEuroPrice">
              </ngx-datatable-column>
            </ng-container>
            <ngx-datatable-row-detail></ngx-datatable-row-detail>
        </ng-template>
        </ngx-datatable>
    
          </div>
     
     



          



          <!-- <ngx-datatable-column name="Aksesuar Adı">
            <ng-template>
              <select class="form-control" formControlName="accessoryPackageDetailAccessoryId">
                <option *ngFor="let accessory of accessoryList" [value]="accessory.id">
                  {{ accessory.accessoryName }}
                </option>
              </select>
            </ng-template>
          </ngx-datatable-column> -->









          <table class="table">
            <thead>
              <tr>
                <th scope="col">ID</th>
                <th scope="col">Aksesuar Adı</th>
                <th scope="col">Aksesuar TL Fiyatı</th>
                <th scope="col">Aksesaur Euro Fiyatı</th>
                <th scope="col">Adet</th>
                <th scope="col">GÜNCELLE</th>
                <th scope="col">SİL</th>
              </tr>
            </thead>
            <tbody formArrayName="accessoryPackageDetailArray">
              <tr *ngFor="
                    let contact of accessoryPackageDetailFormArray.controls;
                    let i = index
                  ">
                <ng-container [formGroupName]="i" *ngIf="contact">
                  <td scope="col">
                    {{ contact.get("accessoryPackageDetailId").value }}
                  </td>
                  <td scope="col">
                    <select class="form-control" formControlName="accessoryPackageDetailAccessoryId">
                      <option *ngFor="let accessory of accessoryList" [value]="accessory.id">
                        {{ accessory.accessoryName }}
                      </option>
                    </select>
                  </td>
                  <td scope="col">
                    {{ contact.get("accessoryTlPrice").value }}
                  </td>
                  <td scope="col">
                    {{ contact.get("accessoryEuroPrice").value }}
                  </td>
                  <td scope="col">
                    <input style="margin-left: 0px !important" type="number" class="form-control mx-sm-3"
                      formControlName="accessoryPackageDetailAccessoryPcs" value="{{
                          contact.get('accessoryPackageDetailAccessoryPcs').value
                        }}" />
                  </td>
                  <td scope="col">
                    <button type="button" class="btn btn-info" (click)="updateAccessorPackageDetail(contact, i)">
                      GÜNCELLE
                    </button>
                  </td>
                  <td scope="col">
                    <button type="button" class="btn btn-danger" (click)="deleteAccessoryPackageDetail(contact, i)">
                      SİL
                    </button>
                  </td>
                </ng-container>
              </tr>
            </tbody>
          </table>
        </div>

      </div>


    </div>
  </div>
</form>